{% extends 'main/main.html' %}
{% load static %}
{% load humanize %}

{% block main %}

  <main>
    {% if messages %}
    {% for m in messages %}
    <!--====== Messages Section ======-->
    <div class="u-s-p-y-12">
        <!--====== Section Content ======-->
        <div class="section__content">
            <div class="container">
                <div class="breadcrumb">
                    <div class="breadcrumb__wrap">
                        <ul class="breadcrumb__list bg-primary p-2">
                            <li class="is-marked">
                                <a href="#" class="text-white">{{ m }}</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--====== End Messages Section ======-->
    {% endfor %}
    {% endif %}
    <div class="w-100 overflow-hidden bg-gray-100" id="top">

      <div class="container position-relative">
        <div class="col-12 col-lg-8 mt-0 h-100 position-absolute top-0 end-0 bg-cover" data-aos="fade-left"
          style="background-image: url('static/main/img/webp/interior11.webp');">

        </div>
        <div class="row">

          <div class="col-lg-7 py-vh-6 position-relative" data-aos="fade-right">
            <h1 class="display-1 fw-bold mt-5">Skip the Hassle, Find the Place!</h1>
            <p class="lead">Fast listings. Real landlords. Zero stress.</p>
            <a href="#" class="btn btn-dark btn-xl shadow me-3 rounded-0 my-5">Get started free</a>
          </div>

        </div>
      </div>

    </div>

    <div class="py-vh-5 w-100 overflow-hidden" id="services">
      <div class="container">
        <div class="row d-flex justify-content-end">
          <div class="col-lg-8" data-aos="fade-down">
            <h2 class="display-6">Finding the right space should be simple, transparent, and efficient. We 
              connect serious renters with genuine landlords, cutting through the clutter and delays of 
              traditional methods.</h2>
          </div>
        </div>
        <div class="row d-flex align-items-center">
          <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
            <span class="h5 fw-lighter">01.</span>
            <h3 class="py-5 border-top border-dark">Direct Communication with Landlords.</h3>
            <p>No more middlemen or third-party delays. Our platform allows users to connect with landlords directly, 
              ensuring faster response times and clearer conversations. This approach fosters trust and allows potential 
              tenants to get accurate, up-to-date information straight from the source.</p>
            <a href="#" class="link-fancy">Learn more
            </a>
          </div>

          <div class="col-md-6 col-lg-4 py-vh-4 pb-0" data-aos="fade-up" data-aos-delay="400">
            <span class="h5 fw-lighter">02.</span>
            <h3 class="py-5 border-top border-dark">Verified Listings for Peace of Mind.</h3>
            <p>Every listing on our platform is screened to reduce the chances of scams or outdated posts. This vetting 
              process means users can browse with confidence, knowing that the properties shown are genuine and actively 
              available for rent.</p>
            <a href="#" class="link-fancy">Learn more
            </a>
          </div>

          <div class="col-md-6 col-lg-4 py-vh-6 pb-0" data-aos="fade-up" data-aos-delay="600">
            <span class="h5 fw-lighter">03.</span>
            <h3 class="py-5 border-top border-dark">Effortless Scheduling of Viewings.</h3>
            <p>We’ve simplified the process of arranging property visits. With just a few clicks, users can request and 
              confirm viewing appointments. Notifications keep both parties informed, minimizing back-and-forth and making 
              coordination smooth and stress-free.</p>
            <a href="#" class="link-fancy">Learn more
            </a>
          </div>
        </div>

      </div>
    </div>

    {% if most_popular %}
    <div class="py-vh-4 bg-gray-100 w-100 overflow-hidden" id="hot_listing">
      <div class="container">

        <div class="row d-flex justify-content-between align-items-center">
          <div class="col-lg-4">
            <h5 class="py-5 border-top border-dark text-muted" data-aos="fade-right">
              This highlight offers a glimpse into the listing that resonates most with users. It’s currently 
              drawing the highest level of interest on our platform.
            </h5>
            <div class="mb-4">
              <h3 class="fw-bold mb-2" data-aos="fade-right" data-aos-delay="200">
                <i class="fas fa-building me-1 text-primary"></i>{{ most_popular.title|title }}
              </h3>
              <h6 class="text-secondary mb-3" data-aos="fade-right" data-aos-delay="300">
                <i class="fas fa-layer-group me-1"></i>{{ most_popular.category.category|title }}
              </h6>
              <p class="lead text-muted" data-aos="fade-right" data-aos-delay="400">
                {{ most_popular.description|capfirst|truncatechars:250 }}
              </p>
            </div>
            <div class="my-2 d-flex justify-content-start">
              <a href="{% url 'property_details' most_popular.listingID %}" class="btn btn-sm btn-dark shadow-sm"
                data-aos="fade-right" data-aos-delay="400">View Details</a>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="row gx-5 d-flex">
              <div class="col-md-11">
                <div class="shadow ratio ratio-16x9 rounded bg-cover bp-center align-self-end" data-aos="fade-right"
                  style="background-image: url('{{ most_popular.avatar1.url  }}');--bs-aspect-ratio: 50%;">
                </div>
              </div>
              <div class="col-md-5 offset-md-1">
                <div class="shadow ratio ratio-1x1 rounded bg-cover mt-5 bp-center float-end" data-aos="fade-up"
                  style="background-image: url('{{ most_popular.avatar2.url  }}');">
                </div>
              </div>
              <div class="col-md-6">
                <div class="col-12 shadow ratio rounded bg-cover mt-5 bp-center" data-aos="fade-left"
                  style="background-image: url('{{ most_popular.avatar3.url  }}');--bs-aspect-ratio: 150%;">
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
    {% endif %}

    {% if listings %}
    <div class="w-100 overflow-hidden" id="hunt">
      <div class="container py-vh-4">
        <div class="row d-flex justify-content-center">
          <div class="col-12 col-lg-10 col-xl-8 text-center">
            <h2 class="display-6 py-5" data-aos="fade-down">Featured Listings</h2>
            <p class="lead" data-aos="fade-down">Explore a glimpse of what’s available. These selected properties 
              offer a quick look at the kind of homes you’ll find on MaKeja. Click below to view the full catalog 
              and discover a space that fits your needs.</p>
          </div>
          <div class="col-12 mt-2">
            <div class="container py-4">
              <div class="row g-4">
                {% for l in listings %}
                <div class="col-12 col-sm-6 col-lg-4 pt-2" data-aos="fade-right">
                  <div class="card h-100 shadow-sm">
                    
                    <!-- Image Section -->
                    <div class="card-img-top" style="background-image: url('{{ l.avatar1.url }}'); height: 220px; background-size: cover; background-position: center;">
                      <div class="position-absolute top-0 end-0 m-3">
                        <span class="badge bg-dark">{{ l.category.category|title }}</span>
                      </div>
                    </div>

                    <!-- Card Body -->
                    <div class="card-body d-flex flex-column">
                      <h5 class="card-title">
                        <a href="{% url 'property_details' l.listingID %}" class="text-decoration-none text-dark">
                          <i class="fas fa-building me-1 text-primary"></i>{{ l.title|title }}
                        </a>
                      </h5>
                      <p class="card-text text-muted mb-2">
                        <i class="fas fa-map-marker-alt me-1 text-danger"></i> {{ l.location|title }}
                      </p>
                      <p class="mb-3">
                        <span class="fs-5 fw-bold text-success">
                          <i class="fas fa-dollar-sign me-1"></i> {{ l.rent|intcomma }} Ksh.
                        </span>
                        <span class="badge bg-light text-dark ms-2">
                          <i class="fas fa-bed me-1"></i> {{ l.bedrooms }} Beds
                        </span>
                        <span class="badge bg-light text-dark ms-2">
                          <i class="fas fa-bath me-1"></i> {{ l.bathrooms }} Baths
                        </span>
                      </p>


                    <ul class="list-unstyled d-flex flex-wrap mb-3">
                      {% if l.furnished %}
                        <li class="me-3"><i class="fas fa-couch me-2 text-muted"></i> Furnished</li>
                      {% endif %}
                      {% if l.parking %}
                        <li class="me-3"><i class="fas fa-parking me-2 text-muted"></i> Parking</li>
                      {% endif %}
                      {% if l.pet_friendly %}
                        <li class="me-3"><i class="fas fa-paw me-2 text-muted"></i> Pet-Friendly</li>
                      {% endif %}
                      {% if l.internet %}
                        <li class="me-3"><i class="fas fa-wifi me-2 text-muted"></i> Internet</li>
                      {% endif %}
                    </ul>

                    <!-- Action Button (Always at the bottom) -->
                    <div class="mt-auto">
                      <a href="{% url 'property_details' l.listingID %}" class="btn btn-dark btn-sm w-100" data-aos="fade-right" data-aos-delay="400">View Details</a>
                    </div>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>          

            <div class="col-12 mt-4 d-flex justify-content-center">
              <a href="{% url 'listings' %}" class="btn btn-warning btn-xl shadow me-3 mt-4" data-aos="fade-up">Start Hunting</a>
            </div>
          </div>

        </div>
      </div>
    </div>
    {% endif %}

    <div class="bg-light py-vh-5 w-100 overflow-hidden" id="aboutus">
      <div class="container">
        <div class="row d-flex justify-content-between align-items-center">
          <div class="col-lg-5">
            <h3 class="py-5 border-top border-dark" data-aos="fade-right">Our magic numbers</h3>
          </div>
          <div class="col-lg-6">
            <div class="row">
              <div class="col-12">
                <h2 class="display-6 mb-5" data-aos="fade-down">MaKeja is built on real connections and meaningful activity. 
                  These figures reflect the trust and engagement we’ve earned from both renters and landlords across the region.</h2>
              </div>
              <div class="col-lg-6" data-aos="fade-up">
                <div class="display-1 fw-bold py-4">42%</div>
                <p class="text-black-50">We provide a wide selection of <strong>Total Verified Listings</strong> to ensure users 
                  are viewing accurate and up-to-date properties. Each listing is carefully screened to reduce fraudulent or 
                  inactive posts. This commitment creates a trustworthy browsing experience for serious renters.</p>
              </div>
              <div class="col-lg-6" data-aos="fade-up">
                <div class="display-1 fw-bold py-4">+300</div>
                <p class="text-black-50">A growing community of <strong>Active Landlords Registered</strong> relies on our platform. 
                Their continued participation highlights the platform’s reliability and effectiveness. Renters benefit from direct 
                communication and timely updates from verified property owners.</p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="container py-vh-4 w-100 overflow-hidden">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-lg-5">
          <h3 class="py-5 border-top border-dark" data-aos="fade-right">How It Works</h3>
        </div>
        <div class="col-md-7" data-aos="fade-left">
          <ol class="fs-5 my-3 fw-light pt-4 border-bottom pb-3" style="list-style-type: decimal; padding-left: 1.25rem;">
            <li>
              <strong>Browse Listings</strong><br>
              Explore our curated selection of verified properties. Use filters to narrow your search by location, price, and features to find the perfect home.
            </li>
            <li class="mt-3">
              <strong>Schedule a Viewing</strong><br>
              Request a viewing directly through the platform. Coordinate convenient times with landlords via our easy-to-use scheduling system.
            </li>
            <li class="mt-3">
              <strong>Contact the Landlord</strong><br>
              Communicate directly with landlords to discuss terms, ask questions, or finalize rental agreements quickly and clearly.
            </li>
          </ol>
          <div class="d-flex align-items-center mt-4">
            <img src="{% static '/main/img/webp/house-icon.webp' %}" width="64" height="64" class="img-fluid rounded-circle me-3" alt="House Icon" data-aos="fade">
            <span>
              <span class="fw-bold">Your Trusted House-Hunting Partner</span><br>
              Helping renters and landlords connect with ease and confidence every step of the way.
            </span>
          </div>
        </div>
      </div>
    </div>



    <div class="py-vh-6 bg-gray-900 text-light w-100 overflow-hidden" id="workwithus">
      <div class="container">
        <div class="row d-flex justify-content-center">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8 text-center" data-aos="fade">
              <p class="text-secondary lead">List Your Space...</p>
              <h2 class="display-6 mb-5">Ready to showcase your property? Click the button below, open the submission form, and enter all the 
              essential details about your property. Your listing will be reviewed and posted quickly and efficiently.</h2>
            </div>
            <div class="col-12">
              <a href="#" class="btn btn-warning btn-xl shadow me-3 mt-4" data-aos="fade-down">Get in contact</a>
            </div>
          </div>

        </div>
      </div>
    </div>

    

    <div class="small py-vh-3 w-100 overflow-hidden">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-4 border-end" data-aos="fade-up">
            <div class="d-flex">
              <div class="col-md-3 flex-fill pt-3 pe-3 pe-md-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="currentColor"
                  class="bi bi-box-seam" viewbox="0 0 16 16">
                  <path
                    d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z" />
                </svg>
              </div>
              <div class="col-md-9 flex-fill">
                <h3 class="h5 my-2">Secure and Private</h3>
                <p>Your privacy matters. We implement robust security measures to protect your personal data and ensure all communications on the platform remain confidential.</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 border-end" data-aos="fade-up" data-aos-delay="200">
            <div class="d-flex">
              <div class="col-md-3 flex-fill pt-3 pt-3 pe-3 pe-md-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="currentColor"
                  class="bi bi-card-checklist" viewbox="0 0 16 16">
                  <path
                    d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                  <path
                    d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z" />
                </svg>
              </div>
              <div class="col-md-9 flex-fill">
                <h3 class="h5 my-2">Dedicated Customer Support</h3>
                <p>Our support team is available to assist you promptly with any questions or issues. Whether a renter or landlord, we’re committed to making your experience hassle-free.</p>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="400">
            <div class="d-flex">
              <div class="col-md-3 flex-fill pt-3 pt-3 pe-3 pe-md-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="currentColor"
                  class="bi bi-window-sidebar" viewbox="0 0 16 16">
                  <path
                    d="M2.5 4a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm2-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm1 .5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z" />
                  <path
                    d="M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v2H1V3a1 1 0 0 1 1-1h12zM1 13V6h4v8H2a1 1 0 0 1-1-1zm5 1V6h9v7a1 1 0 0 1-1 1H6z" />
                </svg>
              </div>
              <div class="col-md-9 flex-fill">
                <h3 class="h5 my-2">Constantly Improving</h3>
                <p>We listen to feedback and continually enhance our features to better serve your needs. Our goal is to provide a seamless experience that evolves with the market.</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!--<div class="container py-vh-3 border-top" data-aos="fade" data-aos-delay="200">
      <div class="row d-flex justify-content-center">
        <div class="col-12 col-lg-8 text-center">
          <h3 class="fs-2 fw-light">Stay in touch with our<span class="fw-bold">
              monthly and free</span>
            newsletter!
          </h3>
        </div>
        <div class="col-12 col-lg-8 text-center">
          <div class="row">
            <div class="grouped-inputs border bg-light p-2">
              <div class="row">
                <div class="col">
                  <form class="form-floating">
                    <input type="email" class="form-control p-3" id="floatingInput" placeholder="name@example.com">
                    <label for="floatingInput">Email address</label>
                  </form>
                </div>
                <div class="col-auto">
                  <a href="#" class="btn btn-dark py-3 px-5">Subscribe</a>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>-->

  </main>
{% endblock %}